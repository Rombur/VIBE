BIN_DIR= $CAEBAT_ROOT/bin

OUTPUT_PREFIX = 

RUN_ID = case6                                       # Indentifier for this simulation run CoupledBatteryECETTransport                    

SIM_NAME = ${RUN_ID}                                 # Name of current simulation
SIM_ROOT = $CAEBAT_ROOT/../examples/$SIM_NAME       # Where to put results from this simulation


PLASMA_STATE_WORK_DIR = $SIM_ROOT/work/battery_state # Where to put state files as the simulation evolves 

CURRENT_STATE = cphit.cgns
PRINT_DEBUG = 0 

RUN_COMMENT = Coupled CAEBAT Module simulation	     # A run comment picked up by the portal

TAG = ElectroChemElectricalThermal                   # A tag that enables related runs to be retrieved together
USER  = ul2                                          # Optional, if missing the unix username is used

NUM_CCP_ZONES = 19 
NUM_CCN_ZONES = 18
NUM_CHARTRAN_ZONES = 34
NUM_POUCH_ZONES = 2
NUM_ZONES = 73 

PLASMA_STATE_FILES = $CURRENT_STATE 

SIMULATION_MODE = NORMAL                             # Simulation mode 

LOG_LEVEL = WARNING
LOG_FILE = $SIM_ROOT/${SIM_NAME}.log

[PORTS]
   NAMES = INIT DRIVER CHARTRAN ELECTRICAL THERMAL
   
   [[DRIVER]]                                       # REQUIRED Port section 
      IMPLEMENTATION = CHARTRAN_ELECTRICAL_THERMAL_DRIVER
                                                    
   [[INIT]]                                         # REQUIRED Port section 
      IMPLEMENTATION = INIT_STATE 
     
  [[THERMAL]]
      IMPLEMENTATION = AMPERES_THERMAL 

  [[ELECTRICAL]]
      IMPLEMENTATION = AMPERES_ELECTRICAL 

  [[CHARTRAN]]
      IMPLEMENTATION = NTG 

# Individual configuration sections

# Component sepcification (entries similar for all components)
# NAME entry MUST match the name of the python class that implements the component

[INIT_STATE]
    CLASS        = DRIVERS
    SUB_CLASS    = 
    NAME         = InitialState 
    NPROC        = 1
    BIN_PATH     = $CAEBAT_ROOT/bin
    INPUT_DIR    = 
    INPUT_FILES  =
    OUTPUT_FILES = $CURRENT_STATE 
    VARIABLES    = 'lumped_source', 'lumped_resistance', 'lumped_temperature'
    INIT_VALUES  = '0.0', '0.0', '298.'
    SCRIPT       = $BIN_PATH/init_state.py


[CHARTRAN_ELECTRICAL_THERMAL_DRIVER]
    CLASS        = DRIVERS
    SUB_CLASS    = CHARTRAN_THERMAL
    NAME         = Driver
    NPROC        = 1
    BIN_PATH     = $CAEBAT_ROOT/bin
    INPUT_DIR    = 
    INPUT_FILES  =
    OUTPUT_FILES = $CURRENT_STATE 
    SCRIPT       = $BIN_PATH/thermal_electrical_chartran_driver_n.py

[AMPERES_THERMAL]
    CLASS        = THERMAL
    SUB_CLASS    = 
    NAME         = Amperes
    NPROC        = 1
    BIN_PATH     = $CAEBAT_ROOT/bin
    INPUT_DIR    = $SIM_ROOT/input
    INPUT_FILES  = 'input_keyvalue', 'FarasisWSingleTab.e'
    OUTPUT_FILES = $CURRENT_STATE 
    INPUT_VAR    = 'lumped_source'
    OUTPUT_VAR   = 'lumped_temperature'
    SCRIPT       = $BIN_PATH/amperes_thermal.py

[AMPERES_ELECTRICAL]
    CLASS        = ELECTRICAL 
    SUB_CLASS    = 
    NAME         = Amperes
    NPROC        = 1
    BIN_PATH     = $CAEBAT_ROOT/bin
    INPUT_DIR    = $SIM_ROOT/input
    INPUT_FILES  = 'input_keyvalue', 'FarasisWSingleTab.e'
    OUTPUT_FILES = $CURRENT_STATE 
    INPUT_VAR    = 'lumped_resistance'
    OUTPUT_VAR   = 'lumped_source'
    SCRIPT       = $BIN_PATH/amperes_electrical.py

[NTG]
    CLASS        = CHARTRAN
    SUB_CLASS    = 
    NAME         = NTG 
    NPROC        = 1
    BIN_PATH     = $CAEBAT_ROOT/bin
    INPUT_DIR    = $SIM_ROOT/input
    INPUT_FILES  = 'input_keyvalue'
    OUTPUT_FILES = 'ntg.out'
    INPUT_VAR    = 'lumped_temperature'
    OUTPUT_VAR   = 'lumped_source', 'lumped_resistance'
    SCRIPT       = $BIN_PATH/ntg_chartran.py
    
# Time loop sepecification (two modes for now) EXPLICIT | REGULAR
# For MODE = REGULAR, the framework uses the variables START, FINIS, and NSTEP
# For MODE = EXPLICIT, the frame work uses the variable VALUES (space separated list of time values)

[TIME_LOOP]
   MODE = REGULAR 
   START = 0.0
   FINISH = 10.
   NSTEP  = 3
   VALUES =  0.1 0.2 0.3 0.4 0.5 0.6 1.5 3.5 6.5 8.5 8.6 8.7 8.8 8.9 9.0 9.1 9.2 9.3 9.4 9.5
